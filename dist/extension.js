(()=>{"use strict";function o(o){for(const e in o)void 0===o[e]&&delete o[e];return o}new class{constructor(e){this.option=e,this.blocks=[],this.menus={};for(const t of e.blocks){if(this[t.opcode]=t.bind,t.menu&&Object.keys(Object(t.menu)).length)for(const o in t.menu)this.menus[o]={items:t.menu[o]};const e=/\[\S*:\S*]/i.exec(t.text),n={};null==e||e.map((e=>{const[c,s]=e.slice(1,-1).split(":");t.text=t.text.replace(e,`[${c}]`),n[c]=o({type:Scratch.BlockType[s],defaultValue:t.default?t.default[c]:void 0,menu:t.menu&&t.menu[c]?c:void 0})})),this.blocks.push(o({opcode:t.opcode,blockType:t.blockType,text:t.text,arguments:n}))}}getInfo(){return o({id:this.option.id,name:this.option.name,color1:this.option.color1,color2:this.option.color2,color3:this.option.color3,menuIconURI:this.option.menuIconURI,blockIconURI:this.option.blockIconURI,docsURI:this.option.docsURI,blocks:this.blocks,menus:this.menus})}register(){Scratch.extensions.register(this)}}({id:"ExampleExtension",name:"example",color1:"#0800ff",blocks:[{opcode:"eg",blockType:Scratch.BlockType.COMMAND,text:"example block [arg:string]",default:{arg:"a6"},menu:{arg:["a1","a6","a2"]},bind:function({arg:o}){return console.log(o),o+" success"}}]}).register()})();